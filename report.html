<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jess Scrimshire">
<meta name="dcterms.date" content="2023-12-16">

<title>Impact of novel Alzheimer’s disease drug discovery on the research field using text mining and topic models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="report_files/libs/clipboard/clipboard.min.js"></script>
<script src="report_files/libs/quarto-html/quarto.js"></script>
<script src="report_files/libs/quarto-html/popper.min.js"></script>
<script src="report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="report_files/libs/quarto-html/anchor.min.js"></script>
<link href="report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Impact of novel Alzheimer’s disease drug discovery on the research field using text mining and topic models</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jess Scrimshire </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 16, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="alzheimers-disease" class="level2">
<h2 class="anchored" data-anchor-id="alzheimers-disease">Alzheimer’s Disease</h2>
<p>Alzheimer’s Disease is a neurodegenerative disease that is the most common cause of dementia and affects over 40 million people worldwide. It is a progressive disease that affects memory, thinking and behaviour. The disease is characterised by the build up of amyloid plaques and neurofibrillary tangles in the brain. There are currently no cures for AD, with most treatments aiming to alleviate the symptoms of AD.</p>
</section>
<section id="treatments-for-ad" class="level2">
<h2 class="anchored" data-anchor-id="treatments-for-ad">Treatments for AD</h2>
<p>Currently, there are a number of new immunotherapies undergoing clinical trials which aim to target the beta-amyloid protein and treat AD. Aducanumab was approved by the FDA in June 2021, and lecanemab was granted accelerated approval by the FDA in January 2023. Furthermore, there are two AD treatments which are in Phase III clinical trials; donanemab and remternetug.</p>
</section>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<section id="litsearchr" class="level2">
<h2 class="anchored" data-anchor-id="litsearchr"><em>litsearchR</em></h2>
<p>The <code>litsearchR</code> package was used to search PubMed for abstracts containing the MeSH term ‘Alzheimer’s Disease’ and show the most frequent words in the keywords and titles to ensure all papers are captured . See <span class="citation" data-cites="ad-search-terms">(<a href="#ref-ad-search-terms" role="doc-biblioref"><strong>ad-search-terms?</strong></a>)</span>.</p>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/ad-search-terms_399c66a523b623645a832471745fedc7">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/ad-search-terms-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Search term network for Alzheimer’s Disease</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/ad-drug-search-terms_ad31f34a378544f014ec6086128b6480">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/ad-drug-search-terms-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">AD drug search term network</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<p>This study found 6199 papers that were published between 2022-01-01 and 2023-10-10 that contained the identified terms.</p>
<p>The distribution of publications is shown in <span class="citation" data-cites="publication-date">(<a href="#ref-publication-date" role="doc-biblioref"><strong>publication-date?</strong></a>)</span>.</p>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/publication-date_c036b4a4b1538802c7d1ea58e9b3f709">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/publication-date-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Publication date distribution of abstracts</figcaption>
</figure>
</div>
</div>
</div>
<p>The distribution of publications containing the terms associated with ‘lecanemab’ is shown in @</p>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/lecanemab-publication-date_d528fc736bac05bbe7e6a7183dfc43f5">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/lecanemab-publication-date-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Publication date distribution of abstracts containing lecanemab terms</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/tokenisation_f72e9d364d7d89fdd8b1fd1b5f1401f5">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/tokenisation-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Most Common Unigram</figcaption>
</figure>
</div>
</div>
</div>
<p>The distribution of the top frequent words per month is shown below. The top words are shown in the legend.</p>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/GLM_2d974468f78377347e4575ef7b6782f1">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/GLM-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Most Frequent Words per Month</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/bigram-plot_88fae582e1e065267b3277df345f9067">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Most common bigrams ending in ‘disease’</caption>
<thead>
<tr class="header">
<th style="text-align: left;">word1</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">parkinson’s</td>
<td style="text-align: right;">1393</td>
</tr>
<tr class="even">
<td style="text-align: left;">neurodegenerative</td>
<td style="text-align: right;">544</td>
</tr>
<tr class="odd">
<td style="text-align: left;">huntington’s</td>
<td style="text-align: right;">325</td>
</tr>
<tr class="even">
<td style="text-align: left;">alzheimer</td>
<td style="text-align: right;">309</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cardiovascular</td>
<td style="text-align: right;">131</td>
</tr>
<tr class="even">
<td style="text-align: left;">parkinson</td>
<td style="text-align: right;">59</td>
</tr>
<tr class="odd">
<td style="text-align: left;">vessel</td>
<td style="text-align: right;">55</td>
</tr>
<tr class="even">
<td style="text-align: left;">coronavirus</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">neurological</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="even">
<td style="text-align: left;">cerebrovascular</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">liver</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">heart</td>
<td style="text-align: right;">38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bowel</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="even">
<td style="text-align: left;">multifactorial</td>
<td style="text-align: right;">32</td>
</tr>
<tr class="odd">
<td style="text-align: left;">periodontal</td>
<td style="text-align: right;">32</td>
</tr>
</tbody>
</table>
<p>Bigrams in abstracts</p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Most frequent bigrams beginning with ‘neuro’ in first word</caption>
<thead>
<tr class="header">
<th style="text-align: left;">word2</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">diseases</td>
<td style="text-align: right;">2483</td>
</tr>
<tr class="even">
<td style="text-align: left;">disorders</td>
<td style="text-align: right;">1423</td>
</tr>
<tr class="odd">
<td style="text-align: left;">disease</td>
<td style="text-align: right;">633</td>
</tr>
<tr class="even">
<td style="text-align: left;">disorder</td>
<td style="text-align: right;">338</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tangles</td>
<td style="text-align: right;">293</td>
</tr>
<tr class="even">
<td style="text-align: left;">effects</td>
<td style="text-align: right;">239</td>
</tr>
<tr class="odd">
<td style="text-align: left;">conditions</td>
<td style="text-align: right;">194</td>
</tr>
<tr class="even">
<td style="text-align: left;">symptoms</td>
<td style="text-align: right;">140</td>
</tr>
<tr class="odd">
<td style="text-align: left;">loss</td>
<td style="text-align: right;">133</td>
</tr>
<tr class="even">
<td style="text-align: left;">death</td>
<td style="text-align: right;">108</td>
</tr>
<tr class="odd">
<td style="text-align: left;">processes</td>
<td style="text-align: right;">93</td>
</tr>
<tr class="even">
<td style="text-align: left;">cells</td>
<td style="text-align: right;">79</td>
</tr>
<tr class="odd">
<td style="text-align: left;">function</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: left;">dysfunction</td>
<td style="text-align: right;">73</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cell</td>
<td style="text-align: right;">72</td>
</tr>
</tbody>
</table>
<p>Bigrams in abstracts</p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Most frequent bigrams beginning with ‘neuro’ in second word</caption>
<thead>
<tr class="header">
<th style="text-align: left;">word1</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">common</td>
<td style="text-align: right;">215</td>
</tr>
<tr class="even">
<td style="text-align: left;">progressive</td>
<td style="text-align: right;">184</td>
</tr>
<tr class="odd">
<td style="text-align: left;">related</td>
<td style="text-align: right;">168</td>
</tr>
<tr class="even">
<td style="text-align: left;">chronic</td>
<td style="text-align: right;">82</td>
</tr>
<tr class="odd">
<td style="text-align: left;">derived</td>
<td style="text-align: right;">72</td>
</tr>
<tr class="even">
<td style="text-align: left;">induced</td>
<td style="text-align: right;">61</td>
</tr>
<tr class="odd">
<td style="text-align: left;">prevalent</td>
<td style="text-align: right;">58</td>
</tr>
<tr class="even">
<td style="text-align: left;">treating</td>
<td style="text-align: right;">55</td>
</tr>
<tr class="odd">
<td style="text-align: left;">disease</td>
<td style="text-align: right;">54</td>
</tr>
<tr class="even">
<td style="text-align: left;">mediated</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="odd">
<td style="text-align: left;">major</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="even">
<td style="text-align: left;">multiple</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">intracellular</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">treat</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="odd">
<td style="text-align: left;">underlying</td>
<td style="text-align: right;">41</td>
</tr>
</tbody>
</table>
<p>Bigrams in abstracts</p>
</div>
</div>
<p>Relations of Bigrams</p>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/bigram visualisation_b8823d712060e147f08f0d1bcc311286">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/bigram%20visualisation-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Bigram networks</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/bigram%20visualisation-2.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Bigram networks</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/bigram%20visualisation-3.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Bigram networks</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/bigram%20visualisation-4.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Bigram networks</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/bigram%20visualisation-5.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Bigram networks</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/bigram%20visualisation-6.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Bigram networks</figcaption>
</figure>
</div>
</div>
</div>
<p>Most common trigrams in pre- or post-leca text corpuses</p>
<div class="cell" data-hash="report_cache/html/unnamed-chunk-16_2aa400738515daa4bd0500dbfe8a04b6">
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/LDA Topic Modelling Visualise_e1b93bac69fa1615af18a78b021cc1dc">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/LDA%20Topic%20Modelling%20Visualise-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">LDA Topic Modelling</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/LDA%20Topic%20Modelling%20Visualise-2.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">LDA Topic Modelling</figcaption>
</figure>
</div>
</div>
</div>
<p>Pre-leca LDA Topic Model Bigrams</p>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/LDA Topic Models Bigrams Pre_2c5d5a901542d95892b0b78ca71e5a37">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/LDA%20Topic%20Models%20Bigrams%20Pre-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Bigram Pre-leca LDA Topic Modelling</figcaption>
</figure>
</div>
</div>
</div>
<p>Post-leca LDA Topic Model Bigrams</p>
<div class="cell" data-layout-align="left" data-hash="report_cache/html/LDA Topic Models Bigrams Post_4437be7e9e648f5b8497151ca3641f1c">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="report_files/figure-html/LDA%20Topic%20Models%20Bigrams%20Post-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Bigram Post-leca LDA Topic Modelling</figcaption>
</figure>
</div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>